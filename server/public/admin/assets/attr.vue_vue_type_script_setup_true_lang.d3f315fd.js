import{f as j,C as I,D as O,i as S,I as T,F as z}from"./element-plus.11bddeb9.js";import{_ as P}from"./index.819314ae.js";import{f as E,b as R}from"./index.e6a627be.js";import{_ as X}from"./picker.1e91c80f.js";import{_ as q}from"./picker.364d077c.js";import{D as G}from"./vuedraggable.9d1df356.js";import{j as V}from"./lodash-es.2b4cc642.js";import{d as H,b as J,o as c,c as b,X as t,P as s,a as l,u as _,O as p,T as r,U as K}from"./@vue.54440ad7.js";const L=l("div",{class:"flex items-end"},[l("div",{class:"text-base text-[#101010] font-medium"},"\u56FE\u7247\u8BBE\u7F6E"),l("div",{class:"text-xs text-tx-secondary ml-2"}," \u6700\u591A\u6DFB\u52A05\u5F20\uFF0C\u5EFA\u8BAE\u56FE\u7247\u5C3A\u5BF8\uFF1A750px*200px ")],-1),M={class:"flex-1"},Q={class:"bg-fill-light w-full p-4 mt-4"},W={class:"flex-1"},Y={class:"flex-1 flex items-center"},Z={class:"drag-move cursor-move ml-auto"},ee={key:0,class:"mt-4"},f=5,de=H({__name:"attr",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})},type:{type:String,default:"mobile"}},emits:["update:content"],setup(d,{emit:v}){const i=v,u=d,h=J({get:()=>u.content,set:a=>{i("update:content",a)}}),k=()=>{var a;if(((a=u.content.data)==null?void 0:a.length)<f){const o=V(u.content);o.data.push({is_show:"1",image:"",name:"",link:{}}),i("update:content",o)}else E.msgError(`\u6700\u591A\u6DFB\u52A0${f}\u5F20\u56FE\u7247`)},y=a=>{var m;if(((m=u.content.data)==null?void 0:m.length)<=1)return E.msgError("\u6700\u5C11\u4FDD\u7559\u4E00\u5F20\u56FE\u7247");const o=V(u.content);o.data.splice(a,1),i("update:content",o)};return(a,o)=>{const m=q,w=X,A=I,F=O,B=j,C=R,D=P,U=S,N=T,$=z;return c(),b("div",null,[t($,{"label-width":"70px"},{default:s(()=>[t(N,{shadow:"never",class:"!border-none flex mt-2"},{default:s(()=>{var g;return[L,l("div",M,[t(_(G),{class:"draggable",modelValue:_(h).data,"onUpdate:modelValue":o[0]||(o[0]=e=>_(h).data=e),animation:"300",handle:".drag-move"},{item:s(({element:e,index:x})=>[(c(),p(D,{key:x,onClose:n=>y(x),class:"w-full"},{default:s(()=>[l("div",Q,[t(m,{width:"396px",height:"196px",modelValue:e.image,"onUpdate:modelValue":n=>e.image=n,"upload-class":"bg-body","exclude-domain":""},null,8,["modelValue","onUpdate:modelValue"]),l("div",W,[t(F,{class:"mt-[18px]",label:"\u56FE\u7247\u94FE\u63A5"},{default:s(()=>[d.type=="mobile"?(c(),p(w,{key:0,modelValue:e.link,"onUpdate:modelValue":n=>e.link=n},null,8,["modelValue","onUpdate:modelValue"])):r("",!0),d.type=="pc"?(c(),p(A,{key:1,placeholder:"\u8BF7\u8F93\u5165\u94FE\u63A5",modelValue:e.link.path,"onUpdate:modelValue":n=>e.link.path=n},null,8,["modelValue","onUpdate:modelValue"])):r("",!0)]),_:2},1024),t(F,{label:"\u662F\u5426\u663E\u793A",class:"mt-[18px] !mb-0"},{default:s(()=>[l("div",Y,[t(B,{modelValue:e.is_show,"onUpdate:modelValue":n=>e.is_show=n,"active-value":"1","inactive-value":"0"},null,8,["modelValue","onUpdate:modelValue"]),l("div",Z,[t(C,{name:"el-icon-Rank",size:"18"})])])]),_:2},1024)])])]),_:2},1032,["onClose"]))]),_:1},8,["modelValue"])]),((g=d.content.data)==null?void 0:g.length)<f?(c(),b("div",ee,[t(U,{class:"w-full",type:"primary",onClick:k},{default:s(()=>[K("\u6DFB\u52A0\u56FE\u7247")]),_:1})])):r("",!0)]}),_:1})]),_:1})])}}});export{de as _};
