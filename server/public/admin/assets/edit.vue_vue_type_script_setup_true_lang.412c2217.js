import{B as k,C as x,v as R,t as y,D as h}from"./element-plus.520347c0.js";import{r as n}from"./index.bfaa543c.js";import{P as A}from"./index.fff7e258.js";import{d as U,s as F,r as q,e as I,a1 as N,o as P,c as S,W as t,O as s,a as _,u as z}from"./@vue.af680e04.js";function Q(l){return n.get({url:"/dept.jobs/lists",params:l})}function L(l){return n.post({url:"/dept.jobs/add",params:l})}function O(l){return n.post({url:"/dept.jobs/edit",params:l})}function X(l){return n.post({url:"/dept.jobs/delete",params:l})}function T(l){return n.get({url:"/dept.jobs/detail",params:l})}const W={class:"edit-popup"},G=_("div",{class:"form-tips"},"\u9ED8\u8BA4\u4E3A0\uFF0C \u6570\u503C\u8D8A\u5927\u8D8A\u6392\u524D",-1),Y=U({__name:"edit",emits:["success","close"],setup(l,{expose:b,emit:p}){const c=F(),d=F(),m=q("add"),D=I(()=>m.value=="edit"?"\u7F16\u8F91\u5C97\u4F4D":"\u65B0\u589E\u5C97\u4F4D"),u=N({id:"",name:"",code:"",sort:0,remark:"",status:1}),C={code:[{required:!0,message:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u7F16\u7801",trigger:["blur"]}],name:[{required:!0,message:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u540D\u79F0",trigger:["blur"]}]},v=async()=>{var o,e;await((o=c.value)==null?void 0:o.validate()),m.value=="edit"?await O(u):await L(u),(e=d.value)==null||e.close(),p("success")},V=(o="add")=>{var e;m.value=o,(e=d.value)==null||e.open()},f=o=>{for(const e in u)o[e]!=null&&o[e]!=null&&(u[e]=o[e])},w=async o=>{const e=await T({id:o.id});f(e)},E=()=>{p("close")};return b({open:V,setFormData:f,getDetail:w}),(o,e)=>{const i=k,r=x,B=R,j=y,g=h;return P(),S("div",W,[t(A,{ref_key:"popupRef",ref:d,title:z(D),async:!0,width:"550px",onConfirm:v,onClose:E},{default:s(()=>[t(g,{ref_key:"formRef",ref:c,model:u,"label-width":"84px",rules:C},{default:s(()=>[t(r,{label:"\u5C97\u4F4D\u540D\u79F0",prop:"name"},{default:s(()=>[t(i,{modelValue:u.name,"onUpdate:modelValue":e[0]||(e[0]=a=>u.name=a),placeholder:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u540D\u79F0",clearable:""},null,8,["modelValue"])]),_:1}),t(r,{label:"\u5C97\u4F4D\u7F16\u7801",prop:"code"},{default:s(()=>[t(i,{modelValue:u.code,"onUpdate:modelValue":e[1]||(e[1]=a=>u.code=a),placeholder:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u7F16\u7801",clearable:""},null,8,["modelValue"])]),_:1}),t(r,{label:"\u6392\u5E8F",prop:"sort"},{default:s(()=>[_("div",null,[t(B,{modelValue:u.sort,"onUpdate:modelValue":e[2]||(e[2]=a=>u.sort=a),min:0},null,8,["modelValue"]),G])]),_:1}),t(r,{label:"\u5907\u6CE8",prop:"remark"},{default:s(()=>[t(i,{modelValue:u.remark,"onUpdate:modelValue":e[3]||(e[3]=a=>u.remark=a),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",type:"textarea",autosize:{minRows:4,maxRows:6},maxlength:"200","show-word-limit":""},null,8,["modelValue"])]),_:1}),t(r,{label:"\u5C97\u4F4D\u72B6\u6001",required:"",prop:"status"},{default:s(()=>[t(j,{modelValue:u.status,"onUpdate:modelValue":e[4]||(e[4]=a=>u.status=a),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{Y as _,Q as a,X as j};
