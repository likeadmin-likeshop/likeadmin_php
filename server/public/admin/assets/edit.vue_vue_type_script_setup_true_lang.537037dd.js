import{x as b,y as w,W as y,A as C}from"./element-plus.055b96d7.js";import{a as D,b as x}from"./role.103af768.js";import{P as k}from"./index.68c7d7fc.js";import{d as B,s as c,r as R,e as h,$ as U,o as g,c as I,U as t,L as s,u as A}from"./@vue.230e89ba.js";const N={class:"edit-popup"},$=B({__name:"edit",emits:["success","close"],setup(P,{expose:i,emit:m}){const d=c(),a=c(),n=R("add"),f=h(()=>n.value=="edit"?"\u7F16\u8F91\u89D2\u8272":"\u65B0\u589E\u89D2\u8272"),o=U({id:"",name:"",desc:"",sort:0,menu_id:[]}),_={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0",trigger:["blur"]}]},F=async()=>{var l,e;await((l=d.value)==null?void 0:l.validate()),n.value=="edit"?await D(o):await x(o),(e=a.value)==null||e.close(),m("success")},v=()=>{m("close")};return i({open:(l="add")=>{var e;n.value=l,(e=a.value)==null||e.open()},setFormData:async l=>{for(const e in o)l[e]!=null&&l[e]!=null&&(o[e]=l[e])}}),(l,e)=>{const p=b,r=w,E=y,V=C;return g(),I("div",N,[t(k,{ref_key:"popupRef",ref:a,title:A(f),async:!0,width:"550px",clickModalClose:!0,onConfirm:F,onClose:v},{default:s(()=>[t(V,{class:"ls-form",ref_key:"formRef",ref:d,rules:_,model:o,"label-width":"60px"},{default:s(()=>[t(r,{label:"\u540D\u79F0",prop:"name"},{default:s(()=>[t(p,{class:"ls-input",modelValue:o.name,"onUpdate:modelValue":e[0]||(e[0]=u=>o.name=u),placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"])]),_:1}),t(r,{label:"\u5907\u6CE8",prop:"desc"},{default:s(()=>[t(p,{modelValue:o.desc,"onUpdate:modelValue":e[1]||(e[1]=u=>o.desc=u),type:"textarea",rows:4,placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8"},null,8,["modelValue"])]),_:1}),t(r,{label:"\u6392\u5E8F",prop:"sort"},{default:s(()=>[t(E,{modelValue:o.sort,"onUpdate:modelValue":e[2]||(e[2]=u=>o.sort=u)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{$ as _};
