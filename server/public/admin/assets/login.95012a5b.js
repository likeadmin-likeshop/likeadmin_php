import{B as P,C as j,D as z,F as T,i as X}from"./element-plus.11bddeb9.js";import{u as C,a as M,c as k,A as b,_ as O,b as W,P as Y,d as G}from"./index.42762d03.js";import{u as H,a as J}from"./vue-router.680b42ce.js";import{r as E,d as D,b as L,o as _,c as f,a as r,W as Q,a8 as Z,u as h,V as R,s as B,a1 as ee,f as oe,X as o,P as c,a9 as V,U as te}from"./@vue.54440ad7.js";import"./@element-plus.b60a8dd3.js";import"./lodash-es.2b4cc642.js";import"./dayjs.3bccbd93.js";import"./axios.dc00a7f8.js";import"./async-validator.fb49d0f5.js";import"./@ctrl.b082b0c1.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./nprogress.7656d32d.js";import"./pinia.37585b34.js";import"./lodash.e6e9a684.js";import"./@vueuse.30711f4d.js";import"./css-color-function.a728b5d4.js";import"./color.d7ae65d5.js";import"./clone.65443a5f.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./ms.564e106c.js";import"./vue-clipboard3.d9310b6d.js";import"./clipboard.cf95dd73.js";import"./echarts.0909e9bd.js";import"./tslib.60310f1a.js";import"./zrender.91adfe72.js";import"./highlight.js.8f223006.js";import"./@highlightjs.3a5ba2f6.js";function se(g){const t=E(!1);return{isLock:t,lockFn:async(...m)=>{if(!t.value){t.value=!0;try{const a=await g(...m);return t.value=!1,a}catch(a){throw t.value=!1,a}}}}}const ne={class:"layout-footer"},re={class:"text-center p-2 text-xs text-tx-secondary max-w-[900px] mx-auto"},ae=["href"],ce=D({__name:"footer",setup(g){const t=C(),l=L(()=>t.config.copyright_config||[]);return(m,a)=>(_(),f("footer",ne,[r("div",re,[(_(!0),f(Q,null,Z(h(l),u=>(_(),f("a",{class:"mx-1 hover:underline",href:u.value,target:"_blank",key:u.key},R(u.key),9,ae))),128))])]))}}),le={class:"login flex flex-col"},ue={class:"flex-1 flex items-center justify-center"},ie={class:"login-card flex rounded-md"},pe={class:"flex-1 h-full hidden md:inline-block"},me={class:"login-form bg-body flex flex-col justify-center px-10 py-10 md:w-[400px] w-[375px] flex-none mx-auto"},de={class:"text-center text-3xl font-medium mb-8"},_e={class:"mb-5"},fe=D({__name:"login",setup(g){const t=B(),l=B(),m=C(),a=M(),u=H(),U=J(),i=E(!1),v=L(()=>m.config),s=ee({account:"",password:""}),S={account:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:["blur"]}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:["blur"]}]},N=()=>{var e;if(!s.password)return(e=t.value)==null?void 0:e.focus();x()},x=async()=>{var d;await((d=l.value)==null?void 0:d.validate()),k.set(b,{remember:i.value,account:i.value?s.account:""}),await a.login(s);const{query:{redirect:e}}=u,n=typeof e=="string"?e:Y.INDEX;U.push(n)},{isLock:$,lockFn:A}=se(x);return oe(()=>{const e=k.get(b);e!=null&&e.remember&&(i.value=e.remember,s.account=e.account)}),(e,n)=>{const d=O,y=W,w=j,F=z,I=T,K=P,q=X;return _(),f("div",le,[r("div",ue,[r("div",ie,[r("div",pe,[o(d,{src:v.value.login_image,width:400,height:"100%"},null,8,["src"])]),r("div",me,[r("div",de,R(v.value.web_name),1),o(I,{ref_key:"formRef",ref:l,model:s,size:"large",rules:S},{default:c(()=>[o(F,{prop:"account"},{default:c(()=>[o(w,{modelValue:s.account,"onUpdate:modelValue":n[0]||(n[0]=p=>s.account=p),placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7",onKeyup:V(N,["enter"])},{prepend:c(()=>[o(y,{name:"el-icon-User"})]),_:1},8,["modelValue"])]),_:1}),o(F,{prop:"password"},{default:c(()=>[o(w,{ref_key:"passwordRef",ref:t,modelValue:s.password,"onUpdate:modelValue":n[1]||(n[1]=p=>s.password=p),"show-password":"",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",onKeyup:V(x,["enter"])},{prepend:c(()=>[o(y,{name:"el-icon-Lock"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"]),r("div",_e,[o(K,{modelValue:i.value,"onUpdate:modelValue":n[2]||(n[2]=p=>i.value=p),label:"\u8BB0\u4F4F\u8D26\u53F7"},null,8,["modelValue"])]),o(q,{type:"primary",size:"large",loading:h($),onClick:h(A)},{default:c(()=>[te(" \u767B\u5F55 ")]),_:1},8,["loading","onClick"])])])]),o(ce)])}}});const Ye=G(fe,[["__scopeId","data-v-25f1fc62"]]);export{Ye as default};
